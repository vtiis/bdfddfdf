<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>ree . dnevnik</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #f2f2f2;
      margin: 0;
      padding: 40px 20px 80px;
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #222;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }

    .clock {
      font-size: 16px;
      margin-bottom: 15px;
    }

    select {
      padding: 6px 12px;
      font-size: 15px;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: white;
      margin-bottom: 20px;
    }

    table {
      width: 100%;
      max-width: 800px;
      border-collapse: collapse;
      background: white;
      border-radius: 8px;
      overflow: hidden;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 8px 10px;
      text-align: center;
    }

    th {
      background: #444;
      color: white;
      font-weight: 600;
    }

    tr:nth-child(even) {
      background: #fafafa;
    }

    .current {
      background: #fff6a3 !important;
      font-weight: 600;
    }

    .remaining {
      margin-top: 15px;
      font-size: 15px;
      color: #555;
    }

    footer {
      margin-top: 30px;
    }

    .download-btn {
      display: inline-block;
      padding: 10px 20px;
      border-radius: 6px;
      font-size: 15px;
      background: #444;
      color: white;
      text-decoration: none;
      transition: 0.2s;
    }

    .download-btn:hover {
      background: #666;
    }
  </style>
</head>
<body>
  <h1>ree . –¥–Ω–µ–≤–Ω–∏–∫</h1>
  <div class="clock" id="clock"></div>

  <select id="daySelector"></select>

  <table id="schedule">
    <thead>
      <tr>
        <th>–í—Ä–µ–º—è</th>
        <th>–ü—Ä–µ–¥–º–µ—Ç</th>
        <th>–£—á–∏—Ç–µ–ª—å</th>
        <th>–ê—É–¥–∏—Ç–æ—Ä–∏—è</th>
        <th>–¢–∏–ø</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <div class="remaining" id="remaining"></div>

  <footer>
    <a href="https://cdn.discordapp.com/attachments/1290767063144599746/1424855125121302710/schedule.docx" class="download-btn" download>
      üì• –°–∫–∞—á–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
    </a>
  </footer>

  <script>
    const scheduleData = {
      "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [
        ["08:00","08:45","–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–æ–≤ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º Web —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["08:50","09:35","–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–æ–≤ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º Web —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["09:40","10:25","–†–∞–±–æ—Ç–∞ –ø–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ—à–∏–±–æ–∫, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–±–æ–µ–≤","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["11:05","11:50","–†–∞–±–æ—Ç–∞ –ø–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ—à–∏–±–æ–∫, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–±–æ–µ–≤","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["11:55","12:40","–°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["12:50","13:35","–°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""]
      ],
      "–í—Ç–æ—Ä–Ω–∏–∫": [
        ["08:00","08:45","–†–∞–±–æ—Ç–∞ –ø–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ—à–∏–±–æ–∫, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–±–æ–µ–≤","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["08:50","09:35","–†–∞–±–æ—Ç–∞ –ø–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ—à–∏–±–æ–∫, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–±–æ–µ–≤","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["09:40","10:25","–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–æ–≤ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º Web —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["11:05","11:50","–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–æ–≤ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º Web —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["11:55","12:40","–°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["12:50","13:35","–°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""]
      ],
      "–°—Ä–µ–¥–∞": [
        ["08:00","08:45","–°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["08:50","09:35","–°–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["09:40","10:25","–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–æ–≤ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º Web —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""],
        ["11:05","11:50","–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–æ–≤ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º Web —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π","–ê–∏–¥–∞ –∞–ø–∞–π)","216",""]
      ]
    };

    const daySelector = document.getElementById("daySelector");
    const scheduleBody = document.querySelector("#schedule tbody");
    const clockEl = document.getElementById("clock");
    const remainingEl = document.getElementById("remaining");

    Object.keys(scheduleData).forEach(day => {
      const opt = document.createElement("option");
      opt.value = day;
      opt.textContent = day;
      daySelector.appendChild(opt);
    });

    const daysMap = ["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ", "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–í—Ç–æ—Ä–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–ü—è—Ç–Ω–∏—Ü–∞", "–°—É–±–±–æ—Ç–∞"];
    const today = daysMap[new Date().getDay()];
    daySelector.value = scheduleData[today] ? today : "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫";

    function renderSchedule(day) {
      scheduleBody.innerHTML = "";
      const now = new Date();
      const minutesNow = now.getHours() * 60 + now.getMinutes();
      let current = null;

      scheduleData[day].forEach(([start, end, subj, teacher, room, type]) => {
        const row = document.createElement("tr");
        const startMins = parseInt(start.split(":")[0]) * 60 + parseInt(start.split(":")[1]);
        const endMins = parseInt(end.split(":")[0]) * 60 + parseInt(end.split(":")[1]);

        if (minutesNow >= startMins && minutesNow <= endMins && day === today) {
          row.classList.add("current");
          current = { endMinutes: endMins, subj };
        }

        row.innerHTML = `
          <td>${start} - ${end}</td>
          <td>${subj}</td>
          <td>${teacher}</td>
          <td>${room}</td>
          <td>${type}</td>
        `;
        scheduleBody.appendChild(row);
      });

      if (current) {
        remainingEl.textContent = `‚è≥ –°–µ–π—á–∞—Å –∏–¥—ë—Ç "${current.subj}", –æ—Å—Ç–∞–ª–æ—Å—å ${current.endMinutes - minutesNow} –º–∏–Ω.`;
      } else {
        remainingEl.textContent = "";
      }
    }

    daySelector.addEventListener("change", e => renderSchedule(e.target.value));

    function updateClock() {
      const now = new Date();
      const h = String(now.getHours()).padStart(2, "0");
      const m = String(now.getMinutes()).padStart(2, "0");
      clockEl.textContent = `–í—Ä–µ–º—è: ${h}:${m}`;
    }

    setInterval(updateClock, 1000);
    updateClock();
    renderSchedule(daySelector.value);
    setInterval(() => renderSchedule(daySelector.value), 60000);
  </script>
</body>
</html>
