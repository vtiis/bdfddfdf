<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>ree . dnevnik</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: #f5f6fa;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 5px;
    }
    .clock {
      text-align: center;
      font-size: 20px;
      margin-bottom: 15px;
      color: #2c3e50;
    }
    .day-select {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    select {
      padding: 8px 12px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    table {
      max-width: 900px;
      margin: auto;
      border-collapse: collapse;
      width: 100%;
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    th, td {
      border: 1px solid #eee;
      padding: 12px;
      text-align: center;
    }
    th {
      background: #2c3e50;
      color: white;
    }
    .current {
      background: #ffe08a !important;
      font-weight: bold;
    }
    .theory {
      color: #0057ff;
      font-weight: bold;
    }
    .practice {
      color: #27ae60;
      font-weight: bold;
    }
    .srsp {
      color: #8e44ad;
      font-weight: bold;
    }
    .no-lesson {
      color: #aaa;
      font-style: italic;
    }
    .remaining {
      text-align: center;
      font-size: 18px;
      margin-top: 10px;
      color: #d35400;
    }
  </style>
</head>
<body>
  <h1>ü§Æ –¥–Ω–µ–≤–Ω–∏–∫</h1>
  <div class="clock" id="clock"></div>
  <div class="day-select">
    <select id="daySelector"></select>
  </div>
  <table id="schedule">
    <thead>
      <tr>
        <th>–í—Ä–µ–º—è</th>
        <th>–ü—Ä–µ–¥–º–µ—Ç</th>
        <th>–£—á–∏—Ç–µ–ª—å</th>
        <th>–ê—É–¥–∏—Ç–æ—Ä–∏—è</th>
        <th>–¢–∏–ø</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div class="remaining" id="remaining"></div>

  <script>
    const scheduleData = {
      "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [
        ["08:00", "08:45", "–û—Å–Ω–æ–≤—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–µ–π", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–¢"],
        ["08:50", "09:35", "–û—Å–Ω–æ–≤—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–µ–π", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–ü–†"],
        ["09:40", "10:25", "–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞", "–î–æ–±—Ä–µ–Ω—é–∫ –ö.", "—Å—Ç–∞–¥–∏–æ–Ω", ""],
        ["11:05", "11:50", "–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞", "–î–æ–±—Ä–µ–Ω—é–∫ –ö.", "—Å—Ç–∞–¥–∏–æ–Ω", ""],
        ["11:55", "12:40", "Web –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ë–µ–ª–µ–∫–æ–≤ –†.", "216", "–¢"],
        ["12:50", "13:35", "Web –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ë–µ–ª–µ–∫–æ–≤ –†.", "216", "–ü–†"],
        ["13:40", "14:25", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–∞—Ö –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è", "–ö–µ–Ω–∂–∞—Ö–∏–º–æ–≤ –°.", "216", "–¢"],
        ["14:30", "15:15", "–ù–µ—Ç —É—Ä–æ–∫–∞ üôè", "", "", ""],
      ],
      "–í—Ç–æ—Ä–Ω–∏–∫": [
        ["08:00", "08:45", "–°–µ—Ç–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–¢"],
        ["08:50", "09:35", "–°–µ—Ç–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–ü–†"],
        ["09:40", "10:25", "–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞", "–î–æ–±—Ä–µ–Ω—é–∫ –ö.", "—Å—Ç–∞–¥–∏–æ–Ω", "–ü–†"],
        ["10:25", "10:45", "–ö—É—Ä–∞—Ç–æ—Ä—Å–∫–∏–π —á–∞—Å", "–°–º–∞–Ω–æ–≤ –ê.", "216", ""],
        ["11:05", "11:50", "–û—Å–Ω–æ–≤—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–µ–π", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–°–†–°–ü"],
        ["11:55", "12:40", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–∞—Ö –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è", "–ö–µ–Ω–∂–∞—Ö–∏–º–æ–≤ –°.", "216", "–¢"],
        ["12:50", "13:35", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–∞—Ö –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è", "–ö–µ–Ω–∂–∞—Ö–∏–º–æ–≤ –°.", "216", "–ü–†"],
        ["13:40", "14:25", "–û—Å–Ω–æ–≤—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–µ–π", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–¢"],
        ["14:30", "15:15", "–û—Å–Ω–æ–≤—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–µ–π", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–ü–†"],
      ],
      "–°—Ä–µ–¥–∞": [
        ["08:00", "08:45", "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫", "", "", ""],
        ["08:50", "09:35", "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫", "", "", ""],
        ["09:40", "10:25", "Web –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ë–µ–ª–µ–∫–æ–≤ –†.", "216", "–¢"],
        ["11:05", "11:50", "Web –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ë–µ–ª–µ–∫–æ–≤ –†.", "216", "–ü–†"],
        ["11:55", "12:40", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–∞—Ö –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è", "–ö–µ–Ω–∂–∞—Ö–∏–º–æ–≤ –°.", "216", "–¢"],
        ["12:50", "13:35", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–∞—Ö –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è", "–ö–µ–Ω–∂–∞—Ö–∏–º–æ–≤ –°.", "216", "–ü–†"],
        ["13:40", "14:25", "–°–µ—Ç–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–¢"],
        ["14:30", "15:15", "–°–µ—Ç–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–¢"],
      ],
      "–ß–µ—Ç–≤–µ—Ä–≥": [
        ["08:00", "08:45", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–∞—Ö –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è", "–ö–µ–Ω–∂–∞—Ö–∏–º–æ–≤ –°.", "216", "–°–†–°–ü"],
        ["08:50", "09:35", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–∞—Ö –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è", "–ö–µ–Ω–∂–∞—Ö–∏–º–æ–≤ –°.", "216", "–°–†–°–ü"],
        ["09:40", "10:25", "–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞", "–î–æ–±—Ä–µ–Ω—é–∫ –ö.", "—Å—Ç–∞–¥–∏–æ–Ω", "–ü–†"],
        ["11:05", "11:50", "Web –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ë–µ–ª–µ–∫–æ–≤ –†.", "216", "–¢"],
        ["11:55", "12:40", "Web –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ë–µ–ª–µ–∫–æ–≤ –†.", "216", "–ü–†"],
        ["12:50", "13:35", "–°–µ—Ç–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–°–†–°–ü"],
        ["13:40", "14:25", "–°–µ—Ç–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–°–†–°–ü"],
        ["14:30", "15:15", "–û—Å–Ω–æ–≤—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–µ–π", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–¢"],
      ],
      "–ü—è—Ç–Ω–∏—Ü–∞": [
        ["08:00", "08:45", "–ù–µ—Ç —É—Ä–æ–∫–∞ üôè", "", "", ""],
        ["08:50", "09:35", "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–∞—Ö –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è", "–ö–µ–Ω–∂–∞—Ö–∏–º–æ–≤ –°.", "216", "–ü–†"],
        ["09:40", "10:25", "–°–µ—Ç–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–ü–†"],
        ["11:05", "11:50", "–°–µ—Ç–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–ü–†"],
        ["11:55", "12:40", "–û—Å–Ω–æ–≤—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–µ–π", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–ü–†"],
        ["12:50", "13:35", "Web –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ë–µ–ª–µ–∫–æ–≤ –†.", "216", "–°–†–°–ü"],
        ["13:40", "14:25", "Web –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ë–µ–ª–µ–∫–æ–≤ –†.", "216", "–°–†–°–ü"],
        ["14:30", "15:15", "–û—Å–Ω–æ–≤—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–µ—Ç–µ–π", "–ê–º–∞–Ω–±–µ–∫ –°.", "216", "–°–†–°–ü"],
      ]
    };

    const daySelector = document.getElementById("daySelector");
    const scheduleBody = document.querySelector("#schedule tbody");
    const clockEl = document.getElementById("clock");
    const remainingEl = document.getElementById("remaining");

    Object.keys(scheduleData).forEach(day => {
      const option = document.createElement("option");
      option.value = day;
      option.textContent = day;
      daySelector.appendChild(option);
    });

    const daysMap = ["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ","–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞"];
    const today = daysMap[new Date().getDay()];
    if (scheduleData[today]) {
      daySelector.value = today;
    } else {
      daySelector.value = "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫";
    }

    function renderSchedule(day) {
      scheduleBody.innerHTML = "";
      let now = new Date();
      let curMinutes = now.getHours() * 60 + now.getMinutes();
      let activeLesson = null;

      scheduleData[day].forEach(lesson => {
        const tr = document.createElement("tr");
        const [start, end, subj, teacher, room, type] = lesson;

        let startMinutes = parseInt(start.split(":")[0])*60 + parseInt(start.split(":")[1]);
        let endMinutes = parseInt(end.split(":")[0])*60 + parseInt(end.split(":")[1]);

        if (curMinutes >= startMinutes && curMinutes <= endMinutes && day === daysMap[new Date().getDay()]) {
          tr.classList.add("current");
          activeLesson = { endMinutes, subj };
        }

        tr.innerHTML = `
          <td>${start} - ${end}</td>
          <td class="${subj.includes("–ù–µ—Ç —É—Ä–æ–∫–∞") ? "no-lesson" : ""}">${subj}</td>
          <td>${teacher}</td>
          <td>${room}</td>
          <td class="${
            type==="–¢" ? "theory" :
            type==="–ü–†" ? "practice" :
            type==="–°–†–°–ü" ? "srsp" : ""
          }">${type}</td>
        `;
        scheduleBody.appendChild(tr);
      });

      if (activeLesson) {
        let now = new Date();
        let minutesNow = now.getHours()*60 + now.getMinutes();
        let remain = activeLesson.endMinutes - minutesNow;
        remainingEl.textContent = `‚è≥ –°–µ–π—á–∞—Å –∏–¥—ë—Ç "${activeLesson.subj}". –û—Å—Ç–∞–ª–æ—Å—å ${remain} –º–∏–Ω.`;
      } else {
        remainingEl.textContent = "";
      }
    }

    daySelector.addEventListener("change", e => {
      renderSchedule(e.target.value);
    });

    function updateClock() {
      let now = new Date();
      let hh = String(now.getHours()).padStart(2,"0");
      let mm = String(now.getMinutes()).padStart(2,"0");
      let ss = String(now.getSeconds()).padStart(2,"0");
      clockEl.textContent = `üïí –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: ${hh}:${mm}:${ss}`;
    }

    setInterval(updateClock, 1000);
    updateClock();

    renderSchedule(daySelector.value);
    setInterval(()=>renderSchedule(daySelector.value), 60000);
  </script>
</body>
</html>
